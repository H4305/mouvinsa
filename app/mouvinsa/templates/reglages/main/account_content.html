<span class="category_span">
    Paramètres du compte
</span>
<div class="horizontal-line"></div>
  {% if form.errors %}
    <ul class="errors">
        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
            {% for error in field_errors %}
                <li>{{ form[field_name].label }}: {{ error }}</li>
            {% endfor %}
        {% endfor %}
    </ul>
{% endif %}
<table class="setting">
    <tr>
        <td class="label"> {{ form.image.label }} </td>
        <td class="content">
             <span id="image_span" class="span-visible">
                {{ form.image(accept="image/*") }}
             </span>
        </td>
        <td class="td_button"></td>
    </tr>
    {% set cat = person.category %}
    <tr>
        <td class="label">Categorie </td>
        <td class="content">
            {% if cat =="enseignant" %}
                enseignant-chercheur
            {% else %}
                {{ cat }}
            {% endif %}
        </td>
        <td class="td_button"></td>
    </tr>
    <tr>
        <td class="label">Surnom </td>
        <td class="content">
            {{ person.nickname }}
        </td>
        <td class="td_button"></td>
    </tr>
    <tr>
        <td class="label">Email </td>
        <td class="content">
            {{ person.email }}
        </td>
        <td class="td_button"></td>
    </tr>
    <tr>
        <td class="label">{{ form.password.label }} </td>
        <td class="content">
             <span id="password_span" class="span-visible">
                 ****
             </span>
            {{ form.password(placeholder=form.password.description) }}
            {{ form.confirm(placeholder=form.confirm.description) }}
        </td>
        <td class="td_button">
            <button id="password_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="password_button" type="button"class="toggle-display">
                <img src="{{ url_for('static', filename='images/edit-icon-red.png') }}">
            </button>
        </td>
    </tr>
    <tr>
        <td class="label">{{ form.goal.label }} </td>
        <td class="content">
             <span id="fitness_span" class="span-visible">
                {{ person.fitnessInfo.goal }}
             </span>
            {{ form.goal(type="number", min="100", max="100000", step="100", placeholder=form.firstname.description) }}
        </td>
        <td class="td_button">
            <button id="fitness_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="fitness_button" type="button"class="toggle-display">
                <img src="{{ url_for('static', filename='images/edit-icon-red.png') }}">
            </button>
        </td>
    </tr>
    <tr>
        <td class="label">{{ form.firstname.label }} </td>
        <td class="content">
             <span id="prenom_span" class="span-visible">
                {{ person.firstname }}
             </span>
            {{ form.firstname(placeholder=form.firstname.description) }}
        </td>
        <td class="td_button">
            <button id="prenom_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="prenom_button" type="button"class="toggle-display">
                <img src="{{ url_for('static', filename='images/edit-icon-red.png') }}">
            </button>
        </td>
    </tr>
    <tr>
        <td class="label">{{ form.lastname.label }} </td>
        <td class="content">
             <span id="nom_span" class="span-visible">
                {{ person.lastname }}
             </span>
            {{ form.lastname(placeholder=form.lastname.description) }}
        </td>
        <td class="td_button">
            <button id="nom_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="nom_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
    </tr>
    <tr>
        <td class="label">{{ form.birthdate.label }} </td>
        <td class="content">
            <span id="date_span" class="span-visible">
                {% if person.birthdate is not none %}
                    {{ person.birthdate.strftime('%d/%m/%Y') }}
                {% endif %}
            </span>
            {{ form.birthdate(placeholder=form.birthdate.description) }}
        </td>
        <td class="td_button">
            <button id="date_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="birthdate_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
    </tr>
    <tr>
        <td class="label">{{ form.sex.label }} </td>
        <td class="content">
            <span id="sex_span" class="span-visible">
                {{ person.sex }}
            </span>
            {{ form.sex(placeholder=form.sex.description) }}
        </td>
        <td class="td_button">
            <button id="sex_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="sex_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
    </tr>
    <tr>
        <td class="label">{{ form.weight.label }} </td>
        <td class="content">
            <span id="weight_span" class="span-visible">
                {{ person.weight }}
            </span>
            {{ form.weight(type="number", min="10", step="0.1") }}
        </td>
        <td class="td_button">
            <button id="weight_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="weight_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
    </tr>
    <tr>
        <td class="label">{{ form.height.label }} </td>
        <td class="content">
            <span id="height_span" class="span-visible">
                {{ person.height }}
            </span>
            {{ form.height(type='number', min="100", max="300", step="1") }}
        </td>
        <td class="td_button">
            <button id="height_cancel_button" class="annuler  invisible_button" type="button">
                Annuler
            </button>

            <button id="height_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
    </tr>
    {% if cat =="enseignant" or cat=="iatos" %}
        <tr>
            <td class="label">{{ form.affiliation.label }} </td>
            <td class="content">
                <span id="affiliation_span" class="span-visible">
                    {{ person.affiliation }}
                </span>
                {{ form.affiliation(placeholder=form.affiliation.description) }}
            </td>
            <td class="td_button">
                <button id="affiliation_cancel_button" class="annuler  invisible_button" type="button">
                    Annuler
                </button>

                <button id="affiliation_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
        </tr>
        <tr class="tr_dernier">
            <td class="label">{{ form.position.label }} </td>
            <td class="content">
                <span id="position_span" class="span-visible">
                    {{ person.position }}
                </span>
                {{ form.position(placeholder=form.position.description) }}
            </td>
            <td class="td_button">
                <button id="position_cancel_button" class="annuler  invisible_button" type="button">
                    Annuler
                </button>

                <button id="position_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
        </tr>
    {% else %}
        {% set cycl = person.cycle %}
        <tr>
            <td class="label">{{ form.cycle.label }} </td>
            <td class="content">
                <span id="cycle_span" class="span-visible">
                    {{ cycl }}
                </span>
                {{ form.cycle(placeholder=form.cycle.description) }}
            </td>
            <td class="td_button">
                <button id="cycle_cancel_button" class="annuler  invisible_button" type="button">
                    Annuler
                </button>

                <button id="cycle_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
        </tr>
        <tr>
            <td class="label">{{ form.year.label }} </td>
            <td class="content">
                <span id="annee_span" class="span-visible">
                    {{ person.year }}
                </span>
                {{ form.year(placeholder=form.year.description) }}
            </td>
            <td class="td_button">
                <button id="year_cancel_button" class="annuler  invisible_button" type="button">
                    Annuler
                </button>

                <button id="year_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button></td>
        </tr>
        <tr class="tr_dernier">
            {% if cycl == "Premier" %}
                <td class="label">Filière </td>
            {% else %}
                <td class="label">Département </td>
            {% endif %}
            <td class="content">
                <span id="branch_span" class="span-visible">
                    {{ person.branch }}
                </span>
                {{ form.branch(placeholder=form.branch.description) }}
            </td>
            <td class="td_button">
                <button id="branch_cancel_button" class="annuler  invisible_button" type="button">
                    Annuler
                </button>

                <button id="branch_button" type="button" class="toggle-display"><img src="{{ url_for('static', filename='images/edit-icon-red.png') }}"></button>
            </td>
        </tr>
    {% endif %}
</table>
{{ form.submit(placeholder=form.submit.description) }}
<hr class="setting"/>